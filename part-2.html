<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Praktyczne zastosowania ESP8266</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/night.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="title" data-background-image="img/cia-out.jpg" data-background-opacity="0.6">
            <h3 class="title">Praktyczne zastosowania ESP8266</h3>
            <h4>część 2</h4>
            <p>- Maciej Małecki -</p>
            <p>- Marcin Iwanczewski -</p>
        </section>

        <section>
            <img src="img/smart-home.png" alt="Smart home">
        </section>

        <section>
            <h3>Architektura</h3>
            <img src="img/architecture.png" alt="Architektura">
        </section>

        <section>
            <div class="r-hstack">
                <div>
                    <img src="img/Domoticz.png" alt="Domoticz">
                    <p>Domoticz</p>
                </div>
                <div>
                    <img src="img/Home_Assistant_Logo.svg.png" alt="Home Assistant">
                    <p>Home Assistant</p>
                </div>
            </div>
        </section>

        <section>
            <h3>Home assistant</h3>
            <div class="r-hstack">
                <img src="img/hass-dashboard.png" alt="Dashboard">
            </div>
        </section>

        <section>
            <h3>Sensor pogodowy (przykład)</h3>
            <pre><code data-trim data-noescape>
                sensor:
                 - platform: mqtt
                   state_topic: Weather_1/temp
                   name: "weather-1-temp"
                   device_class: "temperature"
                   unit_of_measurement: "°C"
                 - platform: mqtt
                   state_topic: Weather_1/hum
                   name: "weather-1-hum"
                   device_class: "humidity"
                   unit_of_measurement: "%"
            </code></pre>
        </section>
        <section>
            <h3>Wizualizacja (Lovelace)</h3>
            <div class="r-hstack">
                <img src="img/esp-easy/weather-hass.png" alt="hass">
            </div>
        </section>

        <section>
            <h3>Powiadomienia...</h3>
            <div class="r-hstack">
                <img src="img/hass-notifications.png" alt="Nots">
                <img src="img/hass-notifications-2.png" alt="Nots">
                <img src="img/hass-notifications-3.png" alt="Nots">
            </div>
        </section>
        <section>
            <h3>Powiadomienia (Slack)</h3>
            <pre><code data-trim data-noescape>
                notify:
                  - name: 'slacknotifier'
                    platform: slack
                    api_key: !secret slack_api_key
                    default_channel: '#general'
            </code></pre>
        </section>
        <section>
            <h3>Automatyzacja Home Assistant</h3>
            <p>Wysłanie powiadomienia przez Slack</p>
            <pre><code data-trim data-noescape>
                automation:
                 - alias: "Notify on overhumid"
                   trigger:
                     platform: numeric_state
                     entity_id: sensor.weather_1_hum
                     above: 50
                   action:
                     - service: notify.slacknotifier
                       data_template:
                         message: "Wilgotność w łazience: {{ states('sensor.weather_1_hum') }}%"
            </code></pre>
        </section>
        
        <section>
            <h3>Wizualizacja - wykresy</h3>
            <div class="r-hstack">
                <img src="img/hass-plots.png" alt="Plots">
                <img src="img/hass-plots-2.png" alt="Plots2">
            </div>
        </section>
        <section>
            <h3>Akwizycja i wizualizacja danych - InfluxDB</h3>
            <pre><code data-trim data-noescape>
                influxdb:
                  api_version: 2
                  ssl: true
                  host: eu-central-1-1.aws.cloud2.influxdata.com
                  token: !secret influxdb_token
                  organization: !secret influxdb_org
                  bucket: homeassistant
                  include:
                    entity_globs:
                      - sensor.weather_*
                      - sensor.temp_wody
                      - sensor.garden_*
                      - sensor.garage_*
            </code></pre>
        </section>
        <section>
            <div class="r-hstack">
                <img src="img/influx-db.png" alt="InfluxDB">
            </div>
        </section>


        <section>
            <h3>Najważniejsze dodatki</h3>
            <p>Home Assistant posiada Plugin-Store</p>
            <div class="r-vstack">

            <div class="r-hstack small">
                <img src="img/hass/addon-mqtt.png" alt="">
                <img src="img/hass/addon-influx-db.png" alt="">
                <img src="img/hass/addon-grafana.png" alt="">
            </div>
            <div class="r-hstack small">
                <img src="img/hass/addon-fileeditor.png" alt="">
                <img src="img/hass/addon-chrony.png" alt="Chrony">
                <img src="img/hass/addon-ssh.png" alt="SSH">
            </div>
            </div>
        </section>

        <section>
            <h3>TODO: MQTT</h3>
            <!-- Marcin -->
        </section>

        <section>
            <h3>Tasmota</h3>
            <h3>Overview projektów</h3>
            <ul>
                <li>Wentylowana szafa na mopa</li>
                <li>"Follow me bed" - oświetlenie drogi do łóżka (Rules vs HA Automation)</li>
                <li>Łącznik schodowy "na sterydach"</li>
                <li>RF gateway</li>
                <li>IR controller</li>
            </ul>
            <!-- Marcin -->
        </section>

        <section>
            <h3>Tasmota</h3>
            <h3>TODO: Stacja pogodowa z zasilaniem bateryjnym</h3>
            <!-- Marcin -->
        </section>

        <section>
            <h3>Esp Easy</h3>
            <h3>Overview projektów</h3>
            <!-- Maciek -->
        </section>

        <section>
            <h3>Esp Easy</h3>
            <h3>TODO: Stacja pogodowa z zasilaniem bateryjnym</h3>
            <!-- Maciek -->
        </section>

        <section>
            <h3>Slajd końcowy</h3>
        </section>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            history: true,
            slideNumber: true,
            width: '80%',

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
    </script>
</body>
</html>
